img {
  height: auto;
  max-width: 100%;
}

figure {
  break-inside: avoid;
  margin: var(--size-s) 0;

  img {
    display: block;
  }
}

figcaption {
  font-size: var(--font-size-s);
  font-style: italic;
  font-weight: bold;
  margin-block: var(--size-s);
  text-align: center;
  text-transform: uppercase;
}

.compendium-image-right {
  float: right;
  margin-left: var(--size-s);
  max-width: calc(var(--size-page-width) * 0.4);
}

.npc-portrait,
.npc-portrait__inner {
  &::before,
  &::after {
    border: var(--border-medium) solid var(--color-heading-border, currentColor);
    color: var(--color-heading-border, currentColor);
    content: 'â€¢';
    font-size: var(--size-m);
    height: var(--size-m);
    line-height: 12px; // magic number to align the period vertically
    position: absolute;
    text-align: center;
    width: var(--size-m);
  }

  &::before {
    top: var(--border-thick);
  }

  &::after {
    bottom: var(--border-thick);
  }
}

.npc-portrait {
  border: var(--border-medium) solid var(--color-heading-border, currentColor);
  padding: var(--border-thick);
  position: relative;

  &::before,
  &::after {
    left: var(--border-thick);
  }

  img {
    display: block;
  }
}

.npc-portrait__inner {
  background: url('/images/the-future-hates-you/bg-avatar.webp');
  border: var(--border-medium) solid var(--color-heading-border, currentColor);

  &::before,
  &::after {
    right: var(--border-thick);
  }
}
